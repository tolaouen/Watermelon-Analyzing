
{% extends "layout/base.html" %}

{% block content %}
<div>
    <nav class="nav-bar">
        <div class="nav-link">
            <ul>
                <li><a href="{{ url_for('User.index') }}">User</a></li>
                <li><a href="{{ url_for('Role.index') }}">Role</a></li>
                <li><a href="{{ url_for('Permission.index') }}">Permission</a></li>
                <li><a href="{{ url_for('module.index') }}">Module</a></li>
            </ul>
        </div>
    </nav>
</div>

<h2>Diagnosis Results</h2>
<p><strong>Your symptoms:</strong> {{ symptoms|join(', ') }}</p>

{% if results %}
<div class="table-diagnose">
    <table>
        <tr>
            <th>#</th>
            <th>Disease</th>
            <th>Match %</th>
            <th>Symptoms</th>
            <th>Causes</th>
            <th>Treatments</th>
            <th>Prevention</th>
        </tr>
        {% for result in results %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ result.name }}</td>
                <td>{{ "%.1f"|format(result.match_score) }}%</td>
                <td>{{ result.symptoms|join(', ') }}</td>
                <td>{{ result.causes }}</td>
                <td>{{ result.treatments }}</td>
                <td>{{ result.prevention }}</td>
            </tr>
        {% endfor %}
    </table>
</div>
{% else %}
<p class="text-p">No matching diseases found for the given symptoms.</p>
{% endif %}

<div class="create-form-button">
    <a href="{{ url_for('disease.index') }}">
        <button type="button">Diagnose Again</button>
    </a>
</div>
{% endblock %}
